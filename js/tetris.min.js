var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,d,e){if(b){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var k=a[e];k in d||(d[k]={});d=d[k]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,d,e){$jscomp.initSymbolIterator();d=null!=d?d:function(a){return a};var b=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)b.push(d.call(e,f.value));else for(var f=a.length,g=0;g<f;g++)b.push(d.call(e,a[g]));return b}},"es6-impl","es3");
(function(){var a=!1,b=!1,d=!1,e=!1,k=document.getElementById("gameBoard"),f=[],g=function(){return Array.from(document.querySelectorAll(".moving"))},n=function(a){"ArrowLeft"===a.key?l(-1):"ArrowRight"===a.key&&l(1)},l=function(a){var c=[];if(-1===a){if(g().some(function(a){return 0===Number(a.id.charAt(5))}))return;var b=!1;g().forEach(function(a){var c=$jscomp.makeIterator(h(a.id));a=c.next().value;c=c.next().value;2===f[a-1][c]&&(b=!0)});if(b)return}if(1===a){if(g().some(function(a){return 9===
Number(a.id.charAt(5))}))return;var d=!1;g().forEach(function(a){var c=$jscomp.makeIterator(h(a.id));a=c.next().value;c=c.next().value;2===f[a+1][c]&&(d=!0)});if(d)return}g().forEach(function(a){var b=$jscomp.makeIterator(h(a.id));a=b.next().value;b=b.next().value;document.getElementById("cell-"+a+"-"+b).classList.remove("moving");f[a][b]=0;c.push([a,b])});c.forEach(function(c){document.getElementById("cell-"+(c[0]+a)+"-"+c[1]).classList.add("moving");f[c[0]+a][c[1]]=1})},p=function(){b=a=!0;m()},
m=function(){b?q():d&&r();e&&t();window.sleep(800).then(function(){a&&m()})},q=function(){for(var a=0;4>a;a++)document.getElementById("cell-"+(1+a)+"-0").classList.add("moving"),f[1+a][0]=1;b=!1;d=!0},r=function(){if(u())d=!1,e=!0;else{var a=[];g().forEach(function(c){var b=$jscomp.makeIterator(h(c.id));c=b.next().value;b=b.next().value;document.getElementById("cell-"+c+"-"+b).classList.remove("moving");f[c][b]=0;a.push([c,b])});a.forEach(function(a){document.getElementById("cell-"+a[0]+"-"+(a[1]+
1)).classList.add("moving");f[a[0]][a[1]+1]=1})}},u=function(){var a=!1;g().forEach(function(b){var c=$jscomp.makeIterator(h(b.id));b=c.next().value;c=c.next().value;if(19===c||2===f[b][c+1])a=!0});return a},t=function(){g().forEach(function(a){a.classList.remove("moving");a.classList.add("placed");var b=$jscomp.makeIterator(h(a.id));a=b.next().value;b=b.next().value;f[a][b]=2});e=!1;b=!0},h=function(a){a=a.split("-");return[Number(a[1]),Number(a[2])]};(function(){for(var a=0;10>a;a++){var b=document.createElement("div");
b.id="col-"+a;b.classList.add("col");k.appendChild(b);f.push([]);for(var d=0;20>d;d++){var e=document.createElement("div");e.id="cell-"+a+"-"+d;e.classList.add("cell");b.appendChild(e);f[a].push(0)}}document.getElementById("startBtn").addEventListener("click",p);document.addEventListener("keydown",n)})()})();
